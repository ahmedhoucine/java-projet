<app-navbar></app-navbar>

<div *ngIf="selectedItem" >
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <form #itemForm="ngForm" (ngSubmit)="submitmodification(itemForm,selectedItem.id)">
          <div class="form-group">
            <label for="itemName">Item name</label>
            <input type="text" class="form-control" id="itemName"  name="itemName" ngModel [(ngModel)]="selectedItem.name" required>
          </div>
          <div class="form-group">
            <label for="itemDescription">Description</label>
            <input type="text" class="form-control" id="itemDescription" placeholder="Enter description" name="description" ngModel  [(ngModel)]="selectedItem.description" required>
          </div> 
          <div class="form-group">
            <label for="itemPrice">Price</label>
            <input type="text" class="form-control" id="itemPrice" placeholder="Enter price" name="price" ngModel [(ngModel)]="selectedItem.price" required>
          </div>
          <div class="form-group">
            <label for="itemCategory">Category</label>
            <select class="form-control" id="itemCategory" name="category" ngModel [(ngModel)]="selectedItem.categoryId" required>
              
              <option *ngFor="let category of categories">{{ category.name }}</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>
  
</div>
<div class="container" *ngIf="!selectedItem">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div *ngFor="let item of items" class="card mb-3">
        <div class="card-body">
          <h3 class="card-title">{{ item.name }}</h3>
          <p class="card-text">Description: {{ item.description }}</p>
          <p class="card-text">Price: {{ item.price }}</p>
          <p class="card-text">Category: {{ item.categoryId }}</p>
          <button class="btn btn-danger" (click)="deleteItem(item.id)">Delete</button>
          <button class="btn btn-primary" (click)="editItem(item.id)">Edit</button>
        </div>
      </div>
    </div>
  </div>
</div>